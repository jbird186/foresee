#include "std/core.4c"

#!{store}
#@{fetch}
#@++{dup@ dup 1+ rot!}
#++@{dup@ 1+ dup rot!}
#@--{dup@ dup 1- rot!}
#--@{dup@ 1- dup rot!}

:storec {
    dup fetch 255 ~ &
    rot |
    swap store
}
#!c{storec}
:fetchc {
    fetch 255 &
}
#@c{fetchc}
#@c++{dup@c dup 1+ rot!c}
#++@c{dup@c 1+ dup rot!c}
#@c--{dup@c dup 1- rot!c}
#--@c{dup@c 1- dup rot!c}